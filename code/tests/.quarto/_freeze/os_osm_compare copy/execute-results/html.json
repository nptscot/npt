{
  "hash": "bf2a62b233933f5970762e1a28050334",
  "result": {
    "engine": "knitr",
    "markdown": "---\nformat: html\nknitr:\n  opts_chunk:\n    eval: false\n---\n\n\n\nIn this test, we will compare the coherent network based on the OpenStreetMap data and the OS Open Road data. \n\nLoad the OS Open Road data and the OpenStreetMap data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(targets)\nlibrary(tidygraph)\nlibrary(osmextract)\nlibrary(foreach)\nlibrary(iterators)\nlibrary(parallel)\nlibrary(doParallel)\nlibrary(mapview)\nlibrary(tmap)\ntar_source()\n```\n:::\n\n\n\n\nComapre the two networks\n\n\n\n::: {.cell}\n\n:::\n\n\nCompare the main network between the two datasets\n\n\n::: {.cell}\n\n:::\n\n\n# One major problem is that important streets, like Prince Street in OSM, do not have the proper highway attributes.\n\n\nUse OS to generate the coherent network\n\n\n::: {.cell}\n\n:::\n\n\n\nUse OSM to generate the coherent network\n\n1. Filter less important or not preferred roads\n\n\"highway\" != 'trunk'   AND  \"highway\" != 'motorway'   AND  \"highway\"  != 'motorway_link'   AND  \"highway\" != 'construction'   AND  \"highway\" != 'residential'  AND \"highway\" != 'steps'  AND \"highway\" != 'trunk_link'  AND \"highway\" != 'proposed'  AND \"highway\"  != 'service'  AND \"highway\" != 'services'\n\n\n\n::: {.cell}\n\n:::\n\n\n\n2. without filtering by adjusting the road scores\n\n\n\n::: {.cell}\n\n:::\n\n\n\ncompare the two networks\n\n\n::: {.cell}\n\n```{.r .cell-code}\nos_cohesive_network = sf::st_read(\"osm_os/os_cohesive_network.geojson\")\nosm_cohesive_network_simple = sf::st_read(\"osm_os/osm_cohesive_network_simple.geojson\")\n\ntm1 <- tm_shape(os_cohesive_network_city) +\n  tm_lines(col = \"blue\") +  # Customize line color if desired\n  tm_layout(title = \"Open Roads Scotland\")\n\n# Create the second map object for osm_scotland_city\ntm2 <- tm_shape(osm_cohesive_network_simple) +\n  tm_lines(col = \"red\") +  # Customize line color if desired\n  tm_layout(title = \"OSM Scotland\")\n\n# Arrange the two maps side by side\ntmap_arrange(tm1, tm2, ncol = 2)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nos_cohesive_network = sf::st_read(\"osm_os/os_cohesive_network.geojson\")\nosm_cohesive_network_complex = sf::st_read(\"osm_os/osm_cohesive_network_complex.geojson\")\n\ntm1 <- tm_shape(os_cohesive_network_city) +\n  tm_lines(col = \"blue\") +  # Customize line color if desired\n  tm_layout(title = \"Open Roads Scotland\")\n\n# Create the second map object for osm_scotland_city\ntm2 <- tm_shape(osm_cohesive_network_complex) +\n  tm_lines(col = \"red\") +  # Customize line color if desired\n  tm_layout(title = \"OSM Scotland\")\n\n# Arrange the two maps side by side\ntmap_arrange(tm1, tm2, ncol = 2)\n```\n:::\n\n\n# Comparison of Coherent Networks Generated from OS Open Road Data and OSM Data\n\nThis document compares the coherent network generated based on OS Open Road data with the one based on OpenStreetMap (OSM) data, highlighting their respective advantages and disadvantages.\n\n## Advantages of OS Open Road Data\n\n### 1. Improved Connectivity and Density Representation\n\n- **Accurate Street Density**: The network is more connected and accurately represents the correct density of streets. For example, streets in the city centre are denser than those in the suburbs, reflecting real-world urban patterns.\n\n### 2. Simplified Geometry for Visualization\n\n- **Single-Line Road Representation**: Each road is represented by a single line, simplifying the geometry and making it more efficient for visualization purposes.\n\n## Disadvantages of OS Open Road Data\n\n### Missing Off-Road Paths\n\n- **Lack of Off-Road Paths**: The main disadvantage is the absence of off-road paths. However, a solution has been developed to add these off-road paths to the network.\n\n## Advantages of OSM Data\n\n### 1. Inclusion of Off-Road Paths\n\n- **Natural Inclusion of Off-Road Paths**: The OSM-based coherent network naturally includes off-road paths, saving the need for additional data processing.\n\n### 2. Presence of Specific Streets\n\n- **Constitution Street Included**: OSM data includes Constitution Street, which is ideal to keep according to Sustrans. While OS data does not include this street.\n\n## Disadvantages of OSM Data\n\n### 1. Missing Major Streets\n\n- **Absence of Queen's Drive**: Queen's Drive is not present in the OSM data.\n\n### 2. Inconsistent Highway Attributes\n\n- **Inaccurate Classifications**: Major streets like **Princes Street** have highway attributes with inconsistent classifications, which may lead to inaccuracies in network analysis. This inconsistency is a significant barrier to using OSM data for generating a coherent network, as it cannot be easily fixed using road scores.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nosm_princes_street = osm_city[osm_city$name == \"Princes Street\", ]\nplot(osm_princes_street$geometry)\nprint(unique(osm_princes_street$highway))\n\n# [1] NA             \"tertiary\"     \"unclassified\" \"primary\"  \n```\n:::\n\n\n\n### 3. Multiple Line Representations\n\n- **Redundant Geometries**: Some streets have multiple/parallel lines representing the same road, complicating the visualization.\n\n### 4. Overly Dense Rural Networks\n\n- **Excessive Rural Density**: The network is too dense in rural areas.\n\n## Conclusion\n\nWhile the OS Open Road data provides a more connected and simplified network ideal for visualization and accurate urban density representation, it lacks certain off-road paths and specific streets like Constitution Street. On the other hand, OSM data includes these paths and streets but suffers from issues such as inaccurate classifications for major roads, redundant geometries, and overly dense representations in rural areas.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}